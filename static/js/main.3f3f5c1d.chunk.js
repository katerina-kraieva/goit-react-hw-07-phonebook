(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{15:function(t,e,n){t.exports={form:"ContactForm_form__iFFev",input:"ContactForm_input__3iLvd",button:"ContactForm_button__3hUkx"}},24:function(t,e,n){t.exports={list:"ContactList_list__1aZMA",item:"ContactList_item__3IdZK",button:"ContactList_button__a7Kdy"}},30:function(t,e,n){t.exports={container:"Container_container__2J1TU",title:"Container_title__2DZal"}},31:function(t,e,n){t.exports={input:"Filter_input__3v8qj"}},44:function(t,e,n){t.exports={enter:"fade_enter__26VUN",enterActive:"fade_enterActive__65FJN",exit:"fade_exit__Y8oAB",exitActive:"fade_exitActive__2e9Ev"}},56:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var c,r,a,o=n(0),i=n.n(o),u=n(8),s=n.n(u),b=n(9),l=n(21),d=n(2),j=n(42),f=n.n(j),h=n(3),m=n(7),O=Object(d.b)("todos/addContactsRequest"),p=Object(d.b)("todos/addContactsSuccess"),g=Object(d.b)("todos/addContactsError"),v=Object(d.b)("todos/fetchContactsRequest"),C=Object(d.b)("todos/fetchContactsSuccess"),x=Object(d.b)("todos/fetchContactsError"),_=Object(d.b)("todos/deleteContactsRequest"),y=Object(d.b)("todos/deleteContactsSuccess"),N=Object(d.b)("todos/deleteContactsError"),F=Object(d.b)("todos/clearError"),k=Object(d.b)("contacts/filter"),S=Object(d.c)([],(c={},Object(h.a)(c,C,(function(t,e){return e.payload})),Object(h.a)(c,p,(function(t,e){return[e.payload].concat(Object(l.a)(t))})),Object(h.a)(c,y,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),L=Object(d.c)(!1,(r={},Object(h.a)(r,O,(function(){return!0})),Object(h.a)(r,p,(function(){return!1})),Object(h.a)(r,g,(function(){return!1})),Object(h.a)(r,v,(function(){return!0})),Object(h.a)(r,C,(function(){return!1})),Object(h.a)(r,x,(function(){return!1})),Object(h.a)(r,_,(function(){return!0})),Object(h.a)(r,y,(function(){return!1})),Object(h.a)(r,N,(function(){return!1})),r)),w=Object(d.c)("",Object(h.a)({},k,(function(t,e){return e.payload}))),E=Object(d.c)(null,(a={},Object(h.a)(a,g,(function(t,e){return e.payload})),Object(h.a)(a,x,(function(t,e){return e.payload})),Object(h.a)(a,N,(function(t,e){return e.payload})),Object(h.a)(a,F,(function(){return null})),a)),A=Object(m.c)({contacts:S,filter:w,loading:L,error:E}),D=[].concat(Object(l.a)(Object(d.d)({serializableCheck:{}})),[f.a]),T=Object(d.a)({reducer:A,middleware:D,devTools:!1}),U=n(19),q=n(20),J=n(23),P=n(22),R=n(86),B=n(12),I=(n(55),n(56),n(29)),M=n.n(I),V=n(43),Z=n(14),K=n.n(Z);K.a.defaults.baseURL="http://localhost:4040";var z={fetchContacts:function(){return function(){var t=Object(V.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(v()),K.a.get("/contacts").then((function(t){var n=t.data;return e(C(n))})).catch((function(t){return e(x(t.massage))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t,e){return function(n){var c={name:t,number:e};n(O()),K.a.post("/contacts",c).then((function(t){var e=t.data;return n(p(e))})).catch((function(t){return n(g(t.massage))}))}},deleteContacts:function(t){return function(e){e(_()),console.log(t),K.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(N(t.massage))}))}}},Y=n(18),G=function(t){return t.contacts},H=function(t){return t.filter},Q={getLoading:function(t){return t.loading},getError:function(t){return t.error},getContacts:G,getFilter:H,getVisibleContacts:Object(Y.a)([G,H],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},W=n(30),X=n.n(W),$=n(1);function tt(t){var e=t.title,n=t.children;return Object($.jsxs)("div",{className:X.a.container,children:[e&&Object($.jsx)("h2",{className:X.a.title,children:e}),n]})}tt.defaultProps={title:" "};var et=tt,nt=n(13),ct=n.n(nt),rt=n(15),at=n.n(rt),ot=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(U.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handleChangeName=function(e){t.setState({name:e.currentTarget.value})},t.handleChangeNumber=function(e){t.setState({number:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,r=n.number;return""===c.trim()||""===r.trim()?(console.log("empty name and number"),void B.b.error("The name and number fields are empty!")):t.props.contacts.find((function(t){return t.name===c}))?(console.log(c),void B.b.error("".concat(c," is already in your contact list"))):(t.props.onSubmit(c,r),void t.setState({name:"",number:""}))},t}return Object(q.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=ct.a.generate(),r=ct.a.generate();return Object($.jsx)($.Fragment,{children:Object($.jsxs)("form",{className:at.a.form,onSubmit:this.handleSubmit,children:[Object($.jsx)("label",{htmlFor:c,children:" Name "}),Object($.jsx)("input",{className:at.a.input,id:c,type:"text",value:e,onChange:this.handleChangeName}),Object($.jsx)("label",{htmlFor:r,children:" Number "}),Object($.jsx)("input",{className:at.a.input,id:r,type:"text",value:n,onChange:this.handleChangeNumber}),Object($.jsx)("button",{className:at.a.button,type:"submit",children:"Add contact"})]})})}}]),n}(o.Component),it=Object(b.b)((function(t){return{contacts:Q.getContacts(t)}}),(function(t){return{fetchContacts:function(){return t(z.fetchContacts())},onSubmit:function(e,n){return t(z.addContact(e,n))}}}))(ot),ut=n(31),st=n.n(ut);var bt=Object(b.b)((function(t){return{value:Q.getFilter(t)}}),(function(t){return{onChange:function(e){return t(k(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange,c=ct.a.generate();return Object($.jsxs)("div",{children:[Object($.jsx)("label",{htmlFor:c,className:st.a.label,children:"Find contacts by name"}),Object($.jsx)("input",{className:st.a.input,id:c,type:"text",value:e,onChange:n})]})})),lt=n(87),dt=n(24),jt=n.n(dt),ft=n(44),ht=n.n(ft);var mt=Object(b.b)((function(t){return{items:Q.getVisibleContacts(t)}}),(function(t){return{onDeleteNumber:function(e){return t(z.deleteContacts(e))}}}))((function(t){var e=t.items,n=t.onDeleteNumber;return Object($.jsx)(lt.a,{component:"ol",className:jt.a.list,children:e.map((function(t){return Object($.jsx)(R.a,{timeout:250,classNames:ht.a,children:Object($.jsxs)("li",{className:jt.a.item,children:[Object($.jsxs)("span",{children:[Object($.jsxs)("b",{children:[t.name,":"]})," ",t.number]}),Object($.jsx)("button",{className:jt.a.button,type:"button",onClick:function(){return n(t.id)},children:"Delete"})]},t.id)},t.id)}))})})),Ot=function(t){Object(J.a)(n,t);var e=Object(P.a)(n);function n(){return Object(U.a)(this,n),e.apply(this,arguments)}return Object(q.a)(n,[{key:"componentDidUpdate",value:function(){null!==this.props.error&&(B.b.error("No Network"),setTimeout(this.props.clearError(),500))}},{key:"render",value:function(){return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(et,{children:[Object($.jsx)(R.a,{in:!0,appear:!0,timeout:250,classNames:"Logo",unmountOnExit:!0,children:Object($.jsx)("h1",{children:"Phonebook"})}),Object($.jsx)(it,{})]}),Object($.jsxs)(et,{title:"Contacts",children:[Object($.jsx)(bt,{}),Object($.jsx)(mt,{})]}),Object($.jsx)(B.a,{position:"top-right"})]})}}]),n}(o.Component),pt=Object(b.b)((function(t){return{loading:Q.getLoading(t),error:Q.getError(t)}}),(function(t){return{clearError:function(){return t(F())}}}))(Ot),gt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),c(t),r(t),a(t),o(t)}))};s.a.render(Object($.jsx)(i.a.StrictMode,{children:Object($.jsx)(b.a,{store:T,children:Object($.jsx)(pt,{})})}),document.getElementById("root")),gt()}},[[85,1,2]]]);
//# sourceMappingURL=main.3f3f5c1d.chunk.js.map